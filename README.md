# Auto-Driving

## 五大模块

### **1、数据预处理**
**a) 功能**
- 接收各传感器信息
- 传感器数据时间同步
- 点云运动畸变补偿
- 传感器信息统一坐标系

**b) 输入**
- GNSS组合导航位置、姿态、角速度、线速度等
- 雷达点云信息
- 雷达和IMU相对坐标系

**c) 输出**
- GNSS组合导航位置、姿态
- 畸变补偿后的点云

  以上信息均通过时间同步，时间戳保持一致

### **2、前端里程计**
**a) 功能**
- 根据点云数据计算位姿并发布

**b) 输入**
- 雷达点云

**c) 输出**
- 里程计累计位姿

### **3、后端图优化**
**a) 功能**
- 从里程计位姿中提取关键帧
- 根据关键帧位姿、GNSS组合导航约束和闭环检测来约束位姿

**b) 输入**
- 前端里程计位姿
- GNSS组合导航位姿
- 闭环检测相对位姿

**c) 输出**
- 优化后的位姿

### **4、闭环检测**
**a) 功能**
- 根据位姿搜索附近历史帧
- 如果有则做匹配
- 如果匹配结果符合要求则建立约束，并发送

**b) 输入**
- 关键帧对应的GNSS组合导航位姿（因为用开环位姿检测不够准确，尤其大场景）

**c) 输出**
- 闭环位姿约束

### **5、显示模块**
**a) 功能**
- 根据优化后的位姿生成点云地图
- 显示点云地图和当前帧点云

**b) 输入**
- 优化后的历史帧位姿
- 当前帧点云
- 当前帧位姿

**c) 输出**
- 按优化后的位姿投影之后的当前帧点云
- 按优化后的位姿投影之后的当前帧位姿
- 局部小地图点云
- 全局大地图点云